## gRPC ê¸°ë°˜ ë¶„ì‚° í•„í„°ë§ ì‹œìŠ¤í…œ

### ðŸ–¥ï¸ í”„ë¡œì íŠ¸ ì„¤ëª…
í•´ë‹¹ ì—°êµ¬ëŠ” ë‘ ë…¸ë“œê°€ ì§ì ‘ ì—°ê²°ë˜ì§€ ì•Šê³ , ì„œë¡œì˜ ì¡´ìž¬ë¥¼ ëª¨ë¥´ëŠ” í™˜ê²½ì—ì„œ **ë¸Œë¡œì»¤ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ê°œì¸ ì •ë³´ë¥¼ í•„í„°ë§ ë° ê³µìœ ** í•  ìˆ˜ ìžˆë„ë¡ ì„¤ê³„ëœ ë„¤íŠ¸ì›Œí¬ ë¶„ì‚° ì‹œìŠ¤í…œìž…ë‹ˆë‹¤. ë¯¼ê°í•œ ì›ë³¸ ë°ì´í„°ëŠ” ì´ë™í•˜ì§€ ì•Šìœ¼ë©°, ì¡°ê±´ì— ë§žëŠ” í•„í„°ë§ëœ ê²°ê³¼ë§Œì„ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### â˜ï¸ ì‹œìŠ¤í…œ êµ¬ì„±
- UDC(User Data Container): ì¡°ê±´ì´ ë‹´ê¸´ .drl ë£° íŒŒì¼ê³¼ mapping.jsonì„ ì—…ë¡œë“œ
- ë¸Œë¡œì»¤: ODCì™€ UDC ì‚¬ì´ì—ì„œ í†µì‹  ì¤‘ê³„. ë£° ì „ì†¡ ë° ê²°ê³¼ ì „ë‹¬
- ODC(Owner Data Container): ë£°ì„ ê¸°ë°˜ìœ¼ë¡œ Drools í•„í„°ë§ ìˆ˜í–‰ í›„ ê²°ê³¼ë§Œ ë°˜í™˜

### ðŸ›  ê¸°ìˆ  ìŠ¤íƒ
- Java 17
- Spring Boot + gRPC
- Drools 7.67.0 Final
- Docker / Docker Compose

### ðŸ“ íŒŒì¼ êµ¬ì¡°
```
APL_Code/
â”œâ”€â”€ udc/             # ë£° ì—…ë¡œë“œ í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ broker/          # gRPC ì¤‘ê³„ ì„œë²„ (ì˜ˆì •)
â”œâ”€â”€ odc/             # Drools ì‹¤í–‰ ì„œë²„
â”œâ”€â”€ filtering/       # ê³µí†µ ë„ë©”ì¸ (DataRecord, Attribute, RuleTemplate ë“±)
â”œâ”€â”€ nfs/             # proto ë° gRPC ì¸í„°íŽ˜ì´ìŠ¤ ì •ì˜
```

### ðŸ’¬ ìž…ë ¥ íŒŒì¼ ì˜ˆì‹œ
`mapping.json`
```
{
  "odcAttributes": ["heartRate", "OxygenSaturation", "sbp", "respirationRate"],
  "udcAttributes": ["ì‹¬ìž¥ ë°•ë™ìˆ˜", "ì‚°ì†Œ í¬í™”ë„", "ìˆ˜ì¶•ê¸° í˜ˆì••", "í˜¸í¡ë¥ "]
}
```

`HeartFailure.drl`
```
rule "HeartFailure"
when
    $r : DataRecord(
        heartRate > 100,
        oxygenSaturation < 90,
        complaints.toLowerCase.contains("hypoxia")
    )
then
    $r.setLabel("HeartFailure");
end
```

### â­ï¸ DHT í™•ìž¥ ê³„íš
ë¸Œë¡œì»¤ ê°„ ë¼ìš°íŒ… ì •ë³´ë¥¼ ë¶„ì‚° ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Chord ê¸°ë°˜ DHT êµ¬ì¡°ë¥¼ ë„ìž…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤
- hash(ì§ˆë³‘ ì½”ë“œ) â†’ ë‹´ë‹¹ ë¸Œë¡œì»¤ë¡œ ë§¤í•‘
- ë¸Œë¡œì»¤ê°€ Forwarding Table ëŒ€ì‹  DHTë¡œ ë¼ìš°íŒ…
